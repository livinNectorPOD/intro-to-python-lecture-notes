<html>
<div id="mount-point"></div>
<script src="coi-serviceworker.js"></script>

<script type="module">
    import { StarboardEmbed } from "https://cdn.jsdelivr.net/npm/starboard-wrap@0.4.1/dist/index.min.js"
    const mount = document.querySelector("#mount-point");
    const urlParams = new URL(window.location.toLocaleString()).searchParams;
    let notebookPath = urlParams.get('notebookPath');
    if (!notebookPath){
        notebookPath = "index.sb"
    }
    let response = await fetch(`./${notebookPath}`);
    let notebook = await response.text();

    const el = new StarboardEmbed({
        notebookContent: notebook,
        src:"https://cdn.starboard.gg/npm/starboard-notebook@0.14.2/dist/index.html"
    });

    mount.appendChild(el);
</script>


</html>